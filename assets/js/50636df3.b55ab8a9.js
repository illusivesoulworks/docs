"use strict";(self.webpackChunkillusivesoulworks_docs=self.webpackChunkillusivesoulworks_docs||[]).push([[1766],{4841:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"curios/porting/1215to1218","title":"1.21.5 to 1.21.6 - 1.21.8","description":"This is an overview on the breaking changes, deprecations, and future development plans for Curios on","source":"@site/docs/curios/porting/1215to1218.md","sourceDirName":"curios/porting","slug":"/curios/porting/1215to1218","permalink":"/curios/porting/1215to1218","draft":false,"unlisted":false,"editUrl":"https://github.com/illusivesoulworks/docs/edit/main/docs/curios/porting/1215to1218.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"1.21.1 to 1.21.4 - 1.21.5","permalink":"/curios/porting/1211to1214"},"next":{"title":"1.21.8 to 1.21.9 - 1.21.11","permalink":"/curios/porting/1218to12111"}}');var t=i(4848),r=i(8453);const o={sidebar_position:2},l="1.21.5 to 1.21.6 - 1.21.8",d={},c=[{value:"Breaking Changes",id:"breaking-changes",level:2},{value:"Non-Deprecated",id:"non-deprecated",level:3},{value:"Changes",id:"changes",level:2},{value:"Equip Events",id:"equip-events",level:3},{value:"Deprecations",id:"deprecations",level:2},{value:"Equip Events",id:"equip-events-1",level:3},{value:"Serialization",id:"serialization",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"1215-to-1216---1218",children:"1.21.5 to 1.21.6 - 1.21.8"})}),"\n",(0,t.jsx)(n.p,{children:"This is an overview on the breaking changes, deprecations, and future development plans for Curios on\n1.21.6/1.21.7/1.21.8. This document aims to be exhaustive and list every relevant change in each section. If there are\nany missing pieces of information, please submit a PR to this repository or initiate a support request in the Discord\nserver."}),"\n",(0,t.jsx)(n.h2,{id:"breaking-changes",children:"Breaking Changes"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"non-deprecated",children:"Non-Deprecated"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Method"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ICuriosItemHandler#loadDatapacks"})," (new interface method)"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:"This method has been added as a part of some internal refactors to how the Curios inventory is loaded, to fix some\nedge-case bugs and streamline the flow overall. Custom implementations using this interface will need to override this\nmethod to respond to datapack loading and changes."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Class"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ICuriosItemHandler"})," (new interface extension)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ICurioStacksHandler"})," (new interface extension)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"IDynamicStackHandler"})," (new interface extension)"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.p,{children:["These three interfaces now extend the ",(0,t.jsx)(n.code,{children:"net.neoforged.neoforge.common.util.ValueIOSerializable"})," to match the updated\nserialization and deserialization methods in Minecraft that now use ",(0,t.jsx)(n.code,{children:"ValueInput"})," and ",(0,t.jsx)(n.code,{children:"ValueOutput"})," parameters instead\nof NBT tags. Custom implementations will need to provide overrides for ",(0,t.jsx)(n.code,{children:"ValueIOSerializable#serialize"})," and\n",(0,t.jsx)(n.code,{children:"ValueIOSerializable#deserialize"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"changes",children:"Changes"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"equip-events",children:"Equip Events"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Methods"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"CurioCanEquipEvent"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"constructor(ItemStack, SlotContext, boolean)"})," (new constructor)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getOriginalEquipResult"})," (new method)"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"CurioCanUnequipEvent"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"constructor(ItemStack, SlotContext, boolean)"})," (new constructor)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getOriginalUnequipResult"})," (new method)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.p,{children:["These two events each have a new constructor that takes in a ",(0,t.jsx)(n.code,{children:"boolean"})," parameter instead of a ",(0,t.jsx)(n.code,{children:"TriState"})," parameter.\nSince the intention of the parameter is to be used as an original result, not final, switching it to a ",(0,t.jsx)(n.code,{children:"boolean"})," offers\nbetter clarity (note: the result of the event itself still returns a ",(0,t.jsx)(n.code,{children:"TriState"}),"). In addition, new methods have been\nadded to retrieve the original result for mods that rely on that information for its processing."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Methods"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"CurioChangeEvent"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"constructor(LivingEntity, SlotContext, ItemStack, ItemStack)"})," (new constructor)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getSlotContext"})," (new method)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.p,{children:["This replaces the previous constructor that only had identifier and index information to provide the full ",(0,t.jsx)(n.code,{children:"SlotContext"}),"\nrecord for additional slot data queries."]}),"\n",(0,t.jsx)(n.h2,{id:"deprecations",children:"Deprecations"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"equip-events-1",children:"Equip Events"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Methods"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"CurioCanEquipEvent"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"constructor(ItemStack, SlotContext, TriState)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Replaced by: ",(0,t.jsx)(n.code,{children:"CurioCanEquipEvent#CurioCanEquipEvent(ItemStack, SlotContext, boolean)"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"CurioCanUnequipEvent"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"constructor(ItemStack, SlotContext, TriState)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Replaced by: ",(0,t.jsx)(n.code,{children:"CurioCanUnequipEvent#CurioCanUnequipEvent(ItemStack, SlotContext, boolean)"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"CurioChangeEvent"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"constructor(LivingEntity, String, int, ItemStack, ItemStack)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Replaced by: ",(0,t.jsx)(n.code,{children:"CurioChangeEvent#CurioChangeEvent(LivingEntity, SlotContext, ItemStack, ItemStack)"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"getIdentifier"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getSlotIndex"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Replaced by: ",(0,t.jsx)(n.code,{children:"CurioChangeEvent#getSlotContext"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:"These deprecations follow the changes described above, replaced by an updated method."}),"\n",(0,t.jsx)(n.h3,{id:"serialization",children:"Serialization"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Methods"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"IDynamicStackHandler"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"serializeNBT"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"deserializeNBT(Tag)"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ICurioStacksHandler"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"serializeNBT"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"deserializeNBT(Tag)"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ICuriosItemHandler"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"writeTag"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"readTag(Tag)"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.p,{children:["These deprecations follow the changes to these three interfaces to extend ",(0,t.jsx)(n.code,{children:"ValueIOSerializable"})," and use the\n",(0,t.jsx)(n.code,{children:"ValueIOSerializable#serialize"})," and ",(0,t.jsx)(n.code,{children:"ValueIOSerializable#deserialize"})," methods instead for serialization and\ndeserialization of Curios inventory data."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var s=i(6540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);