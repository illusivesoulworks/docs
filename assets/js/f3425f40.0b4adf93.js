"use strict";(self.webpackChunkillusivesoulworks_docs=self.webpackChunkillusivesoulworks_docs||[]).push([[105],{292:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"curios/slots/data-generation","title":"Data Generation","description":"A tutorial on how to programmatically generate the Curios data files.","source":"@site/versioned_docs/version-1.20.x/curios/slots/data-generation.md","sourceDirName":"curios/slots","slug":"/curios/slots/data-generation","permalink":"/1.20.x/curios/slots/data-generation","draft":false,"unlisted":false,"editUrl":"https://github.com/illusivesoulworks/docs/edit/main/versioned_docs/version-1.20.x/curios/slots/data-generation.md","tags":[],"version":"1.20.x","sidebarPosition":13,"frontMatter":{"sidebar_position":13},"sidebar":"tutorialSidebar","previous":{"title":"Slot Modifiers","permalink":"/1.20.x/curios/slots/slot-modifiers"},"next":{"title":"Example Datapack","permalink":"/1.20.x/curios/slots/datapack-example"}}');var r=t(4848),s=t(8453);const d={sidebar_position:13},o="Data Generation",l={},a=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Slot Generation",id:"slot-generation",level:2},{value:"Example",id:"example",level:3},{value:"Entities Generation",id:"entities-generation",level:2},{value:"Example",id:"example-1",level:3},{value:"Criterion Triggers",id:"criterion-triggers",level:2},{value:"Example",id:"example-2",level:3}];function c(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"data-generation",children:"Data Generation"})}),"\n",(0,r.jsx)(i.p,{children:"A tutorial on how to programmatically generate the Curios data files."}),"\n",(0,r.jsx)(i.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsxs)(i.p,{children:["The documentation on this page was written with the assumption that readers are already familiar with basic data\ngeneration and its usages. If you are not, please prime yourself by learning about data generation on either ",(0,r.jsx)(i.a,{href:"https://forge.gemwire.uk/wiki/Datageneration",children:"Forge"}),"\nor ",(0,r.jsx)(i.a,{href:"https://docs.neoforged.net/docs/datagen/",children:"NeoForge"})," before proceeding further."]}),"\n",(0,r.jsx)(i.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsxs)(i.p,{children:["Slots and entities can be generated for a mod by constructing a new implementation of the\n",(0,r.jsx)(i.code,{children:"top.theillusivec4.curios.api.CuriosDataProvider"})," class, making sure to override the ",(0,r.jsx)(i.code,{children:"generate"})," method to run the\ngeneration code."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-java",children:"public class CuriosTestProvider extends CuriosDataProvider {\n\n  public CuriosTestProvider(String modId, PackOutput output,\n                            ExistingFileHelper fileHelper,\n                            CompletableFuture<HolderLookup.Provider> registries) {\n    super(modId, output, fileHelper, registries);\n  }\n\n  @Override\n  public void generate(HolderLookup.Provider registries, ExistingFileHelper fileHelper) {\n    // Generation code here\n  }\n}\n"})}),"\n",(0,r.jsxs)(i.p,{children:["A new instance of the implementation should be constructed in the ",(0,r.jsx)(i.code,{children:"GatherDataEvent"})," event on the MOD event bus."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-java",children:'// On the MOD event bus\n@SubscribeEvent\npublic void gatherData(GatherDataEvent event) {\n    event.getGenerator().addProvider(\n        // Tell generator to run only when server data are generating\n        event.includeServer(),\n        new CuriosTestProvider(\n            "mod_id",\n            event.getGenerator().getPackOutput(),\n            event.getExistingFileHelper(),\n            event.getLookupProvider()\n        )\n    );\n}\n'})}),"\n",(0,r.jsx)(i.h2,{id:"slot-generation",children:"Slot Generation"}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.code,{children:"CuriosDataProvider"})," has a ",(0,r.jsx)(i.code,{children:"createSlot"})," method to facilitate easy data generation of slot types, by taking in an initial\n",(0,r.jsx)(i.code,{children:"String"})," identifier/file name and allowing developers to chain additional parameters as needed."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-java",children:'@Override\npublic void generate(HolderLookup.Provider registries, ExistingFileHelper fileHelper) {\n    this.createSlot("test_slot"); // Create a slot with the identifier and file name "test_slot"\n}\n'})}),"\n",(0,r.jsxs)(i.p,{children:["Additional parameters can be added by calling methods on the ",(0,r.jsx)(i.code,{children:"ISlotData"})," returned by the ",(0,r.jsx)(i.code,{children:"createSlot"})," method call. Most\nof these parameters are linked to fields for ",(0,r.jsx)(i.code,{children:"ISlotType"}),", more information on how these fields are constructed and what\nthey represent can be found on the page for ",(0,r.jsx)(i.a,{href:"/1.20.x/curios/slots/slot-register#-syntax",children:"slot registration"}),"."]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Method"}),(0,r.jsx)(i.th,{children:"Parameters"}),(0,r.jsx)(i.th,{children:"Field"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"replace"})}),(0,r.jsx)(i.td,{children:"boolean"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"replace"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"size"})}),(0,r.jsx)(i.td,{children:"integer"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"size"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"operation"})}),(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"operation"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"order"})}),(0,r.jsx)(i.td,{children:"integer"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"order"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"icon"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"ResourceLocation"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"icon"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"addCosmetic"})}),(0,r.jsx)(i.td,{children:"boolean"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"add_cosmetic"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"useNativeGui"})}),(0,r.jsx)(i.td,{children:"boolean"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"use_native_gui"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"renderToggle"})}),(0,r.jsx)(i.td,{children:"boolean"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"render_toggle"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"dropRule"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"ICurio$DropRule"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"drop_rule"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"addCondition"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"ICondition"})}),(0,r.jsx)(i.td,{children:"N/A"})]})]})]}),"\n",(0,r.jsx)(i.h3,{id:"example",children:"Example"}),"\n",(0,r.jsxs)(i.p,{children:["The following example creates a slot file with the file name and identifier ",(0,r.jsx)(i.code,{children:"test_slot"}),", gives it a size of ",(0,r.jsx)(i.code,{children:"4"}),", sets the\ndrop rule to ",(0,r.jsx)(i.code,{children:'"ALWAYS_KEEP"'})," so that it is never dropped upon death, and gives it a cosmetic slot by setting ",(0,r.jsx)(i.code,{children:"addCosmetic"}),"\nto ",(0,r.jsx)(i.code,{children:"true"}),"."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-java",children:'@Override\npublic void generate(HolderLookup.Provider registries, ExistingFileHelper fileHelper) {\n    this.createSlot("test_slot")\n        .size(4)\n        .dropRule(ICurio.DropRule.ALWAYS_KEEP)\n        .addCosmetic(true);\n}\n'})}),"\n",(0,r.jsx)(i.h2,{id:"entities-generation",children:"Entities Generation"}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.code,{children:"CuriosDataProvider"})," has a ",(0,r.jsx)(i.code,{children:"createEntities"})," method to facilitate easy data generation of adding slot types to entities,\nby taking in an initial ",(0,r.jsx)(i.code,{children:"String"})," file name and allowing developers to chain additional parameters as needed."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-java",children:'@Override\npublic void generate(HolderLookup.Provider registries, ExistingFileHelper fileHelper) {\n    this.createEntities("test_entities"); // Create an entities file with the name "test_entities"\n}\n'})}),"\n",(0,r.jsxs)(i.p,{children:["Additional parameters can be added by calling methods on the ",(0,r.jsx)(i.code,{children:"IEntitiesData"})," returned by the ",(0,r.jsx)(i.code,{children:"createEntities"})," method\ncall. All of these parameters correspond to JSON fields, more information on these can be found on the page for\n",(0,r.jsx)(i.a,{href:"/1.20.x/curios/slots/entity-register#-syntax",children:"entity registration"}),"."]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Method"}),(0,r.jsx)(i.th,{children:"Parameters"}),(0,r.jsx)(i.th,{children:"Field"}),(0,r.jsx)(i.th,{children:"Notes"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"replace"})}),(0,r.jsx)(i.td,{children:"boolean"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"replace"})}),(0,r.jsx)(i.td,{})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"addPlayer"})}),(0,r.jsx)(i.td,{children:"N/A"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"entities"})}),(0,r.jsxs)(i.td,{children:["Adds ",(0,r.jsx)(i.code,{children:'"minecraft:player"'})," to the ",(0,r.jsx)(i.code,{children:"entities"})," array"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"addEntities"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"EntityType<?>[]"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"entities"})}),(0,r.jsx)(i.td,{})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"addSlots"})}),(0,r.jsx)(i.td,{children:"string[]"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"slots"})}),(0,r.jsxs)(i.td,{children:["Adds each string as a slot identifier to the ",(0,r.jsx)(i.code,{children:"slots"})," array"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"addCondition"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"ICondition"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"conditions"})}),(0,r.jsx)(i.td,{})]})]})]}),"\n",(0,r.jsx)(i.h3,{id:"example-1",children:"Example"}),"\n",(0,r.jsxs)(i.p,{children:["The following example creates an entities file with the file name ",(0,r.jsx)(i.code,{children:"test_entities"}),", and assigns the ",(0,r.jsx)(i.code,{children:'"head"'}),", ",(0,r.jsx)(i.code,{children:'"ring"'}),",\nand ",(0,r.jsx)(i.code,{children:'"necklace"'})," slot types to the ",(0,r.jsx)(i.code,{children:'"minecraft:player"'})," and ",(0,r.jsx)(i.code,{children:'"minecraft:zombie"'})," entities."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-java",children:'@Override\npublic void generate(HolderLookup.Provider registries, ExistingFileHelper fileHelper) {\n    this.createEntities("test_entities")\n        .addPlayer()\n        .addEntities(EntityType.ZOMBIE)\n        .addSlots("head", "ring", "necklace");\n}\n'})}),"\n",(0,r.jsx)(i.h2,{id:"criterion-triggers",children:"Criterion Triggers"}),"\n",(0,r.jsxs)(i.p,{children:["Curios provides several helper methods in the ",(0,r.jsx)(i.code,{children:"top.theillusivec4.curios.api.CuriosTriggers"})," class to generate data\nassociated with criterion triggers used for advancements and other similar files."]}),"\n",(0,r.jsxs)(i.p,{children:["Currently, the only triggers available are ",(0,r.jsx)(i.code,{children:"equip"})," and ",(0,r.jsx)(i.code,{children:"equipAtLocation"})," for triggering when a certain item is equipped\ninto a curio slot."]}),"\n",(0,r.jsx)(i.h3,{id:"example-2",children:"Example"}),"\n",(0,r.jsxs)(i.p,{children:["The following example will create an advancement file, ",(0,r.jsx)(i.code,{children:"curiostest/test"}),", that adds a criteration called ",(0,r.jsx)(i.code,{children:'"test"'}),", that\nis triggered when a ",(0,r.jsx)(i.code,{children:'"minecraft:diamond"'})," item is equipped in the Badlands biome."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-java",children:'Advancement.Builder.advancement()\n    .addCriterion("test",\n        CuriosTriggers.equipAtLocation(\n            ItemPredicate.Builder.item().of(Items.DIAMOND),\n            LocationPredicate.Builder.location().setBiome(Biomes.BADLANDS)))\n    .save(saver, new ResourceLocation("curiostest", "test"), existingFileHelper);\n'})})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,i,t)=>{t.d(i,{R:()=>d,x:()=>o});var n=t(6540);const r={},s=n.createContext(r);function d(e){const i=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),n.createElement(s.Provider,{value:i},e.children)}}}]);